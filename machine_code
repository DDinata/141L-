acc 0
ld $r0 // contains div[:8]
acc 1
ld $r1 // contains div[8:]
// need to do checks

bgt $r0 > 0, LEFTNZ

// if div[:8] == 0
acc 15
mov $r3 // $r3 = 15
msb $r0
mov $r4 // $r4 = m
sub $r3 // $r3 = 15-m
jmp INIT_SHIFT

LEFTNZ:
// if div[8:] > 0
acc 8
mov $r3 // $r3 = 8
acc 7
mov $r4 // $r4 = 7
msb $r0
add $r3 // $r3 = 8+m
sub $r4 // $r4 = 7-m

INIT_SHIFT:
shl $r0, 0
ccc
shl $r1, 1
dec
bnz $ra, INIT_SHIFT


